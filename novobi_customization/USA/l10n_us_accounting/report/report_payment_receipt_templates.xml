<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_payment_receipt_credit_document"
              inherit_id="account.report_payment_receipt_document" primary="True">
        <table position="replace">
            <table class="table table-sm" style="font-size:14px;">
                <thead>
                    <tr>
                        <th><span>Due Date</span></th>
                        <th><span>Description</span></th>
                        <th><span>Vendor Ref</span></th>
                        <th class="text-right"><span>Original Amount</span></th>
                        <th class="text-right"><span>Balance Due</span></th>
                        <th class="text-right"><span>Credit</span></th>
                        <th class="text-right"><span>Payment after Credit applied</span></th>
                    </tr>
                </thead>
                <tbody>
                    <tr t-foreach="o._get_payment_receipt_credit()" t-as="inv">
                        <td><span t-esc="inv['date']"/></td>
                        <td><span t-esc="inv['description']"/></td>
                        <td><span t-esc="inv['vendor_ref']"/></td>
                        <td class="text-right"><span t-esc="inv['original_amt']"/></td>
                        <td class="text-right"><span t-esc="inv['balance_due']"/></td>
                        <td class="text-right"><span t-esc="inv['credit_amt']"/></td>
                        <td class="text-right"><span t-esc="inv['payment_amt']"/></td>
                    </tr>
                </tbody>
            </table>
        </table>
    </template>

    <template id="report_payment_receipt_credit">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-set="lang" t-value="o.partner_id.lang"/>
                <t t-call="l10n_us_accounting.report_payment_receipt_credit_document" t-lang="lang"/>
            </t>
        </t>
    </template>

    <report
            id="action_report_payment_receipt_credit"
            model="account.payment"
            string="Payment Receipt"
            report_type="qweb-pdf"
            name="l10n_us_accounting.report_payment_receipt_credit"
            file="l10n_us_accounting.report_payment_receipt_credit"
            menu="False"
        />
</odoo>
