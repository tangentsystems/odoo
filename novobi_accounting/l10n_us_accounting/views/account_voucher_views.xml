<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Add filter in range sale -->
    <record id="view_voucher_filter_sale_usa" model="ir.ui.view">
        <field name="name">account.voucher.sale.select.usa</field>
        <field name="model">account.voucher</field>
        <field name="inherit_id" ref="account_voucher.view_voucher_filter_sale"/>
        <field name="arch" type="xml">
            <field name="date" position="after">
                <!-- This is a widget filter
                    We have the syntax as follows: name is the specific field, string is the name of QWeb template,
                     context is additional parameters that you want to transfer and help is always "__widget__"
                -->
                <filter name="amount" string="AmountSearchRange" help="__widget__"
                        context='{"title_display": "Search by Total Amount"}'/>
                <separator/>
            </field>

            <filter context="{'group_by':'account_date','visible':True}" position="attributes">
                <attribute name="string">Transaction Date</attribute>
            </filter>

            <filter context="{'group_by':'journal_id'}" position="attributes">
                <attribute name="string">Bank Account</attribute>
            </filter>
        </field>
    </record>

    <!-- Add filter in range purchase -->
    <record id="view_voucher_filter_vendor_usa" model="ir.ui.view">
        <field name="name">account.voucher.purchase.select.usa</field>
        <field name="model">account.voucher</field>
        <field name="inherit_id" ref="account_voucher.view_voucher_filter_vendor"/>
        <field name="arch" type="xml">
            <field name="date" position="after">
                <!-- This is a widget filter
                    We have the syntax as follows: name is the specific field, string is the name of QWeb template,
                     context is additional parameters that you want to transfer and help is always "__widget__"
                -->
                <filter name="amount" string="AmountSearchRange" help="__widget__"
                        context='{"title_display": "Search by Total Amount"}'/>
                <separator/>
            </field>
            <filter context="{'group_by':'journal_id'}" position="attributes">
                <attribute name="string">Bank Account</attribute>
            </filter>
        </field>
    </record>

    <!--TREE VIEW-->
    <record id="view_voucher_tree_usa" model="ir.ui.view">
        <field name="name">view_voucher_tree_usa</field>
        <field name="model">account.voucher</field>
        <field name="inherit_id" ref="account_voucher.view_voucher_tree"/>
        <field name="arch" type="xml">
            <field name="date" position="attributes">
                <attribute name="invisible">context.get('voucher_type') == 'sale'</attribute>
            </field>

            <field name="date" position="before">
                <field name="date" string="Invoice Date" invisible="context.get('voucher_type') == 'purchase'" />
            </field>
        </field>
    </record>

    <!--FORM VIEW-->
    <record id="view_sale_receipt_form_usa" model="ir.ui.view">
        <field name="name">view_sale_receipt_form_usa</field>
        <field name="model">account.voucher</field>
        <field name="inherit_id" ref="account_voucher.view_sale_receipt_form"/>
        <field name="arch" type="xml">
            <field name="date" position="attributes">
                <attribute name="string">Invoice Date</attribute>
            </field>

            <field name="account_date" position="attributes">
                <attribute name="string">Transaction Date</attribute>
            </field>

            <field name="pay_now" position="attributes">
                <attribute name="invisible">1</attribute>
            </field>

            <!--<field name="account_id" position="attributes">-->
                <!--<attribute name="attrs">{'required': [('pay_now', '=', 'pay_later')], 'invisible': [('pay_now', '=', 'pay_now')]}</attribute>-->
            <!--</field>-->
        </field>
    </record>

    <record id="view_purchase_receipt_form_usa" model="ir.ui.view">
        <field name="name">view_purchase_receipt_form_usa</field>
        <field name="model">account.voucher</field>
        <field name="inherit_id" ref="account_voucher.view_purchase_receipt_form"/>
        <field name="arch" type="xml">
            <field name="account_date" position="attributes">
                <attribute name="string">Transaction Date</attribute>
            </field>

            <field name="pay_now" position="attributes">
                <attribute name="invisible">1</attribute>
            </field>

            <!--<field name="account_id" position="attributes">-->
                <!--<attribute name="attrs">{'required': [('pay_now', '=', 'pay_later')], 'invisible': [('pay_now', '=', 'pay_now')]}</attribute>-->
            <!--</field>-->
        </field>
    </record>
</odoo>
