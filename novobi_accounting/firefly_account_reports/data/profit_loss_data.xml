<odoo>
    <!--Account Tag-->
    <record id="account_tag_pl_research_development" model="account.account.tag">
        <field name="name">PL/Research and development</field>
        <field name="applicability">accounts</field>
    </record>
    <record id="account_tag_pl_selling_general" model="account.account.tag">
        <field name="name">PL/Selling, general and administrative</field>
        <field name="applicability">accounts</field>
    </record>
    <record id="account_tag_pl_finance_expense" model="account.account.tag">
        <field name="name">PL/Finance and Interest Expense</field>
        <field name="applicability">accounts</field>
    </record>
     <record id="account_tag_pl_gain_acquisition" model="account.account.tag">
        <field name="name">PL/Gain on Acquisition</field>
        <field name="applicability">accounts</field>
    </record>
    <record id="account_tag_pl_income_tax_expense" model="account.account.tag">
        <field name="name">PL/Income Tax Expense</field>
        <field name="applicability">accounts</field>
    </record>

    <!--PROFIT AND LOSS-->
    <!--Other Income-->
    <record id="account_reports.account_financial_report_other_income0" model="account.financial.html.report.line">
        <field name="domain" eval="[
        ('account_id.user_type_id', '=', ref('account.data_account_type_other_income')),
        ('account_id.tag_ids', '!=', ref('firefly_account_reports.account_tag_pl_gain_acquisition'))]" />
        <field name="sequence" eval="5"/>
    </record>
    <!--Other Expense-->
    <record id="l10n_us_accounting.account_financial_report_other_expense0" model="account.financial.html.report.line">
        <field name="domain"
               eval="[
               ('account_id.user_type_id', '=', ref('l10n_us_accounting.data_account_type_other_expense')),
               ('account_id.tag_ids', 'not in', [ref('firefly_account_reports.account_tag_pl_income_tax_expense'),
               ref('firefly_account_reports.account_tag_pl_finance_expense')])]"/>
        <field name="sequence" eval="6"/>
    </record>
    <!--Expense/Operating Cost-->
    <record id="account_reports.account_financial_report_less_expenses0" model="account.financial.html.report.line">
        <field name="name">Operating Costs</field>
        <field name="formulas">balance = EXP.balance + DEP.balance + RAD.balance + SGA.balance</field>
    </record>
    <record id="account_reports.account_financial_report_expense0" model="account.financial.html.report.line">
        <field name="name">Operating Costs</field>
        <field name="domain" eval="[
        ('account_id.user_type_id', '=', ref('account.data_account_type_expenses')),
        ('account_id.tag_ids', 'not in', [ref('firefly_account_reports.account_tag_pl_research_development'),
        ref('firefly_account_reports.account_tag_pl_selling_general')])]" />
    </record>

    <!--Rename-->
    <record id="account_reports.account_financial_report_depreciation0" model="account.financial.html.report.line">
        <field name="name">Depreciation and amortization</field>
        <field name="sequence" eval="4"/>
    </record>
     <record id="account_reports.account_financial_report_net_profit0" model="account.financial.html.report.line">
        <field name="name">NET LOSS</field>
        <field name="formulas">balance = INC.balance + OIN.balance - OEX.balance + GOA.balance - ITE.balance - FIE.balance</field>
        <field name="sequence" eval="7"/>
    </record>
    <record id="account_reports.account_financial_report_income0" model="account.financial.html.report.line">
        <field name="name">Revenue</field>
    </record>
    <record id="account_reports.account_financial_report_cost_sales0" model="account.financial.html.report.line">
        <field name="name">Direct Costs</field>
    </record>
    <record id="account_reports.account_financial_report_totalincome0" model="account.financial.html.report.line">
        <field name="name">NET LOSS BEFORE FINANCE, INTEREST AND INCOME TAX EXPENSES</field>
    </record>

    <!--New Sections-->
    <record id="account_financial_report_pl_research_development" model="account.financial.html.report.line">
        <field name="name">Research and development</field>
        <field name="code">RAD</field>
        <field name="formulas">balance = sum.balance</field>
        <field name="parent_id" ref='account_reports.account_financial_report_less_expenses0'/>
        <field name="domain"
               eval="[
               ('account_id.user_type_id', '=', ref('account.data_account_type_expenses')),
               ('account_id.tag_ids', '=', ref('firefly_account_reports.account_tag_pl_research_development'))]"/>
        <field name="groupby">account_id</field>
        <field name="sequence" eval="2"/>
        <field name="green_on_positive" eval="False"/>
        <field name="level" eval="2" />
    </record>
    <record id="account_financial_report_pl_selling_general" model="account.financial.html.report.line">
        <field name="name">Selling, general and administrative</field>
        <field name="code">SGA</field>
        <field name="formulas">balance = sum.balance</field>
        <field name="parent_id" ref='account_reports.account_financial_report_less_expenses0'/>
        <field name="domain"
               eval="[
               ('account_id.user_type_id', '=', ref('account.data_account_type_expenses')),
               ('account_id.tag_ids', '=', ref('firefly_account_reports.account_tag_pl_selling_general'))]"/>
        <field name="groupby">account_id</field>
        <field name="sequence" eval="3"/>
        <field name="green_on_positive" eval="False"/>
        <field name="level" eval="2" />
    </record>


    <record id="account_financial_report_pl_finance_expense" model="account.financial.html.report.line">
        <field name="name">Finance and Interest Expense</field>
        <field name="code">FIE</field>
        <field name="formulas">balance = sum.balance</field>
        <field name="financial_report_id" ref="account_reports.account_financial_report_profitandloss0"/>
        <field name="parent_id" ref=''/>
        <field name="domain"
               eval="[
               ('account_id.user_type_id', '=', ref('l10n_us_accounting.data_account_type_other_expense')),
               ('account_id.tag_ids', '=', ref('firefly_account_reports.account_tag_pl_finance_expense'))]"/>
        <field name="groupby">account_id</field>
        <field name="sequence" eval="2"/>
        <field name="green_on_positive" eval="False"/>
        <field name="level" eval="0"/>
    </record>
    <record id="account_financial_report_other_income0" model="account.financial.html.report.line">
        <field name="name">Gain on Acquisition</field>
        <field name="code">GOA</field>
        <field name="formulas">balance = -sum.balance</field>
        <field name="financial_report_id" ref="account_reports.account_financial_report_profitandloss0"/>
        <field name="parent_id" ref=''/>
        <field name="domain"
               eval="[
               ('account_id.user_type_id', '=', ref('account.data_account_type_other_income')),
               ('account_id.tag_ids', '=', ref('firefly_account_reports.account_tag_pl_gain_acquisition'))]" />
        <field name="groupby">account_id</field>
        <field name="sequence" eval="3"/>
        <field name="level" eval="0" />
    </record>
    <record id="account_financial_report_pl_income_tax_expense" model="account.financial.html.report.line">
        <field name="name">Income Tax Expense</field>
        <field name="code">ITE</field>
        <field name="formulas">balance = sum.balance</field>
        <field name="financial_report_id" ref="account_reports.account_financial_report_profitandloss0"/>
        <field name="parent_id" ref=''/>
        <field name="domain"
               eval="[
               ('account_id.user_type_id', '=', ref('l10n_us_accounting.data_account_type_other_expense')),
               ('account_id.tag_ids', '=', ref('firefly_account_reports.account_tag_pl_income_tax_expense'))]"/>
        <field name="groupby">account_id</field>
        <field name="sequence" eval="4"/>
        <field name="green_on_positive" eval="False"/>
        <field name="level" eval="0"/>
    </record>
</odoo>